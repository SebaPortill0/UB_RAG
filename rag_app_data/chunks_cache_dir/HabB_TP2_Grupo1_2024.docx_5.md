Page label: 6
File name: HabB_TP2_Grupo1_2024.docx.pdf
text:
Trabajo
Práctico
N°2
Página
:
6
de
8
3 . 3 .E j e m p l od eE s c r i t u r ae nC S V
import
pandas
as
pd
import
os
from
datetime
import
datetime
class
Memory:
@staticmethod
def
write_chat_history_to_file(gradio_chatbot:
List,
thread_id:
str,
folder_path:
str)
->
None:
today_str
=
datetime.today().strftime('%Y-%m-%d')
filename
=
f"{today_str}.csv"
file_path
=
os.path.join(folder_path,
filename)
#
Prepare
data
for
CSV
data
=
[]
for
message
in
gradio_chatbot:
data.append({
"timestamp":
datetime.now().strftime('%Y-%m-%d
%H:%M:%S'),
"thread_id":
thread_id,
"user_input":
message[0],
#
Assuming
message[0]
is
the
user
input
"bot_response":
message[1],
#
Assuming
message[1]
is
the
bot
response
})
df
=
pd.DataFrame(data)
df.to_csv(file_path,
mode='a',
header=not
os.path.exists(file_path),
index=False)
Habilitación
Profesional
B
–
2024
Facultad
de
Ing.
y
Tecnología
Informática